$(document).ready(function() {
  fadeInUp('.print-list', '.print-item', 0.2);
});
var printList = new Vue({
  el: '#print-list',
  data: {
    isActive: false,
    current: 1,
    tabs: [{
      class: 'icon-printer-man',
      label: '男画家'
    }, {
      class: 'icon-printer',
      label: '看全部'
    }, {
      class: 'icon-printer-woman',
      label: '女画家'
    }],
    tabContent: [{
      cate: '全部',
      num: '340'
    }, {
      cate: '油画',
      num: '110'
    }, {
      cate: '水彩',
      num: '105'
    }, {
      cate: '素描',
      num: '109'
    }, {
      cate: '插画',
      num: '6'
    }]
  },
  methods: {
    toggle: function() {
      this.isActive = !this.isActive;
    },
    choosePrinter: function(index) {
      this.current = index;
    },
    chooseCate: function(index) {
      this.isActive = false;
    }
  },
  mounted: function() {
    var iHeight = $('.print-item').height();
    console.log(iHeight);
    console.log($('body').height());
    $('#main').dropload({
      scrollArea: window,
      threshold: iHeight,
      loadUpFn: function(me) {
        console.log("aaa");
        // $.ajax({
        //   type: 'GET',
        //   url: 'json/update.json',
        //   dataType: 'json',
        //   success: function(data){
        //       // 为了测试，延迟1秒加载
        //       setTimeout(function(){
        //           $('.lists').html(result);
        //           // 每次数据加载完，必须重置
        //           me.resetload();
        //           // 重置页数，重新获取loadDownFn的数据
        //           page = 0;
        //           // 解锁loadDownFn里锁定的情况
        //           me.unlock();
        //           me.noData(false);
        //       },1000);
        //   },
        //   error: function(xhr, type){
        //       alert('Ajax error!');
        //       // 即使加载出错，也得重置
        //       me.resetload();
        //   }
        // });
      },
      loadDownFn: function(me) {
        console.log("down");
        // $.ajax({
        //     type: 'GET',
        //     url: 'json/more.json',
        //     dataType: 'json',
        //     success: function(data){
        //         alert(data);
        //         // 每次数据加载完，必须重置
        //         me.resetload();
        //     },
        //     error: function(xhr, type){
        //         alert('Ajax error!');
        //         // 即使加载出错，也得重置
        //         me.resetload();
        //     }
        // });
      }
    });
  }
});