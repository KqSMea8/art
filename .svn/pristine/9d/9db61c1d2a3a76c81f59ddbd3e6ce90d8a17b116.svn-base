<?php

namespace V47\Controller;

use V47\Base\ApiBaseController;
use V47\Logic\ArtworkCategoryLogic;
use V47\Logic\ArtworkColorLogic;
use V47\Logic\ArtworkLikeLogic;
use V47\Logic\ArtworkLogic;
use V47\Logic\ArtworkTagLogic;
use V47\Logic\ArtworkUpdateLogic;
use V47\Logic\CommentLogic;
use V47\Logic\AssetsLogic;
use V47\Logic\UserLogic;
use Custom\Define\Code;
use Custom\Helper\Checker;
use Custom\Helper\Util;
use Custom\Define\Image;
use Custom\Manager\Token;

//artwork upload
class CommentController extends ApiBaseController{
  public function zan(){
    $this->checkLogin();
      $tokenInfo = Token::getTokenInfo($this->token);
      $userId = $tokenInfo['userInfo']['id']; //获取登录用户的uid

    $commentId = I('post.commentId','','number_int');
    $uid = I('post.uid','','number_int');
    $commentLogic = new CommentLogic();
    $commentLogic->zan($commentId,$userId);
    Util::jsonReturn(['status'=>Code::SUCCESS]);
  }
  public function unzan(){
    $this->checkLogin();
      $tokenInfo = Token::getTokenInfo($this->token);
      $userId = $tokenInfo['userInfo']['id']; //获取登录用户的uid

    $commentId = I('post.commentId','','number_int');
    $uid = I('post.uid','','number_int');
    $commentLogic = new CommentLogic();
    $commentLogic->unzan($commentId,$userId);
    Util::jsonReturn(['status'=>Code::SUCCESS]);
  }
}
